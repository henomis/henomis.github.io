<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>NATS as broker for my home server | Simone Vellei Blog</title><meta name=keywords content="nats,home server,development,golang"><meta name=description content="One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax."><meta name=author content="Simone Vellei"><link rel=canonical href=https://simonevellei.com/blog/posts/nats-as-broker-for-my-home-server/><script>location.protocol!=="https:"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.replace(`https:${location.href.substring(location.protocol.length)}`))</script><link crossorigin=anonymous href=/blog/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><link rel=preload href=/blog/apple-touch-icon.png as=image><script defer crossorigin=anonymous src=/blog/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>@media screen and (min-width:769px){.post-content img.zoomCheck{cursor:zoom-in;transition:transform .3s ease;z-index:1;position:relative}.post-content img.zoomed{cursor:zoom-out;position:relative;z-index:999;transition:transform .3s ease}body.no-scroll{overflow:hidden}}</style><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".post-content img.zoomCheck");e.forEach(e=>{e.addEventListener("click",function(){if(e.classList.contains("zoomed"))e.classList.remove("zoomed"),e.style.transform="scale(1)",document.body.classList.remove("no-scroll");else{const t=Math.min(e.naturalWidth/e.clientWidth,window.innerWidth/e.clientWidth,window.innerHeight/e.clientHeight);e.classList.add("zoomed"),e.style.transform=`scale(${t})`,document.body.classList.add("no-scroll")}})})})</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="NATS as broker for my home server"><meta property="og:description" content="One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax."><meta property="og:type" content="article"><meta property="og:url" content="https://simonevellei.com/blog/posts/nats-as-broker-for-my-home-server/"><meta property="og:image" content="https://simonevellei.com/blog/images/pollenium04.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-07T17:00:32+02:00"><meta property="article:modified_time" content="2025-09-07T17:00:32+02:00"><meta property="og:site_name" content="Simone Vellei Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://simonevellei.com/blog/images/pollenium04.png"><meta name=twitter:title content="NATS as broker for my home server"><meta name=twitter:description content="One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://simonevellei.com/blog/posts/"},{"@type":"ListItem","position":3,"name":"NATS as broker for my home server","item":"https://simonevellei.com/blog/posts/nats-as-broker-for-my-home-server/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"NATS as broker for my home server","name":"NATS as broker for my home server","description":"One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax.","keywords":["nats","home server","development","golang"],"articleBody":"One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax. And that’s exactly what happened when I started to develop my home server.\nThis article, however, is not strictly about my home server. It’s more about the architecture I chose to implement it, specifically using NATS as a message broker. I will explain why I made this choice and how it has benefited my project.\nThe home server TLDR; A mini-pc equipped with a N100 CPU, 16GB of RAM, and a 512GB SSD, running Debian. All the services are containerized using Docker, and the entire system is managed with a single docker-compose file. That’s only the first approach, as I have different plans for the future. Currently, the server runs a few services, including AdGuard, Nextcloud, and Traefik. But the most interesting part is the custom services I developed myself using Go and NATS.\nThe first service: a pollens monitoring system Did you know that I have allergies? Yes, I do. And I hate them. Every spring, when the pollen count rises, I suffer from sneezing, itchy eyes, and a runny nose. It’s not fun at all. Luckily, it’s not so severe, but it’s still annoying. Last year, I found a way to handle it avoiding drugs relying on natural remedies, mostly based on blackcurrant. But to do that effectively, I needed to know the pollen levels in my area with some day’s notice. So, I decided to build a pollen monitoring system using data from the ARPAM Marche website, which provides pseudo-real-time pollen data for my region.\nPollenium The official website’s user interface is clunky and slow, but fortunately, it exposes a public API. I leveraged this API by writing a lightweight Go program that fetches daily pollen data for my area. The program handles its own scheduling internally, ensuring the data is updated automatically each day and stored in a local SQLite database. On top of this, I developed a simple web interface that presents the latest readings and visualizes historical trends with interactive graphs, making it easy to track pollen levels over time.\nThat’s what I called Pollenium.\nPollen alerts Did I mention that I need to be notified when pollen levels are high? Pollenium is great, but if the pollen count spikes, I want to receive an immediate alert. However, I didn’t want to implement this feature directly in Pollenium. I preferred to keep it simple and focused on its core functionality. So, I decided to create a separate architecture to handle notifications. This is where NATS comes into play.\nWhy NATS? NATS is a high-performance messaging system that is lightweight and easy to deploy. It supports various messaging patterns, including publish/subscribe, request/reply, and queuing. Here are some reasons why I chose NATS for my home server:\nSimplicity: NATS has a simple API and is easy to set up. This was crucial for me as I wanted to focus on developing my home server without getting bogged down in complex configurations. Performance: NATS is designed for high throughput and low latency. Language Support: NATS has client libraries for many programming languages, including Go, which I used for my home server. Notification service The easiest way to receive a notification is through a Telegram bot. The new service I implemented listens for messages on specific subjects and sends a message to my Telegram bot chat. The service is highly configurable and you can specify different subjects to listen to, as well as the message format and chat IDs to send the notifications to. I called this service Telenats. Notifications are NATS JetStream messages, so they are persistent and can be replayed if needed.\nUser interfaces The system was working fine, but I wanted to let NATS handle more than just notifications. Then I had a couple of crazy ideas:\nwhy not use NATS to listen for keystrokes? why not use NATS to dispatch messages for a text-to-speech service? I bought an USB numeric keypad and an USB speaker as input/output devices for my home server.\nListen for keystrokes I implemented a simple Go program that listens for keystrokes. Every keystroke is captured and published to a related NATS subject. This way, I can send “commands” to any service listening to that subject. Simple, right? I called this service Typocast. I just passed the /dev/input/eventX device as a parameter to the container, and it works like a charm.\nText-to-speech The text-to-speech feature is a little bit more complex. I needed a couple of things:\na service that converts text to speech a service that listens for tts messages and plays the audio after conversion For the text-to-speech conversion, I used Piper it has voices in different languages, including Italian. It comes with a simple http server that accepts text and returns an audio file. The second service, which I called Voicecast, listens for tts messages on a specific NATS subject. When it receives a message, it sends the text to the Piper server, gets the audio file, and plays it using the classic ALSA interface.\nPutting it all together Now that I had all the components, I needed to connect them. Here’s how currently works:\nPollenium every day fetches the pollen data and stores it in the database. If the pollen level exceeds a certain threshold, Pollenium publishes a notification message to a specific NATS subject. Telenats listens for notification messages and sends a message to my Telegram bot chat. If I want to hear the current pollen levels, I can press a specific key on my keyboard. Typocast captures the keystroke and publishes a specific message to the related NATS subject. Pollenium listens for that subject/keystroke and when it receives the message, it gets from the database the current pollens with high levels and publishes a formatted message to the tts NATS subject. Voicecast listens for tts messages, sends the text to the Piper server, gets the audio file, and plays it. Conclusion Using NATS as a message broker for my home server has been a great choice. It has allowed me to build a modular architecture that is easy to maintain and extend. I can easily add new services or modify existing ones without affecting the entire system. Plus, it has been a fun and relaxing experience to develop my home server using Go and asynchronous messaging.\n","wordCount":"1124","inLanguage":"en","image":"https://simonevellei.com/blog/images/pollenium04.png","datePublished":"2025-09-07T17:00:32+02:00","dateModified":"2025-09-07T17:00:32+02:00","author":{"@type":"Person","name":"Simone Vellei"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://simonevellei.com/blog/posts/nats-as-broker-for-my-home-server/"},"publisher":{"@type":"Organization","name":"Simone Vellei Blog","logo":{"@type":"ImageObject","url":"https://simonevellei.com/blog/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://simonevellei.com/blog accesskey=h title="Home (Alt + H)"><img src=https://simonevellei.com/blog/apple-touch-icon.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://linkedin.com/in/simonevellei><img src=/blog/icons/linkedin.png width=32 height=32 style=margin-top:15px></a></li><li><a href=https://www.instagram.com/simone.vellei.agile><img src=/blog/icons/instagram.png width=32 height=32 style=margin-top:15px></a></li><li><a href="https://www.facebook.com/profile.php?id=100086812039299"><img src=/blog/icons/facebook.png width=32 height=32 style=margin-top:15px></a></li><li><a href=https://www.youtube.com/channel/UCbpAhDsXEEnQlRj6skJR5Nw><img src=/blog/icons/youtube.png width=32 height=32 style=margin-top:15px></a></li><li><a href=https://simonevellei.com/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://simonevellei.com title="Simone Vellei"><span>Simone Vellei</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://simonevellei.com/blog>Home</a>&nbsp;»&nbsp;<a href=https://simonevellei.com/blog/posts/>Posts</a></div><h1 class=post-title>NATS as broker for my home server</h1><div class=post-meta><span title='2025-09-07 17:00:32 +0200 +0200'>September 7, 2025</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Simone Vellei</div></header><figure class=entry-cover><img loading=lazy src=https://simonevellei.com/blog/images/pollenium04.png alt><p></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-home-server aria-label="The home server">The home server</a></li><li><a href=#the-first-service-a-pollens-monitoring-system aria-label="The first service: a pollens monitoring system">The first service: a pollens monitoring system</a><ul><li><a href=#pollenium aria-label=Pollenium>Pollenium</a></li><li><a href=#pollen-alerts aria-label="Pollen alerts">Pollen alerts</a></li></ul></li><li><a href=#why-nats aria-label="Why NATS?">Why NATS?</a></li><li><a href=#notification-service aria-label="Notification service">Notification service</a></li><li><a href=#user-interfaces aria-label="User interfaces">User interfaces</a><ul><li><a href=#listen-for-keystrokes aria-label="Listen for keystrokes">Listen for keystrokes</a></li><li><a href=#text-to-speech aria-label=Text-to-speech>Text-to-speech</a></li></ul></li><li><a href=#putting-it-all-together aria-label="Putting it all together">Putting it all together</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>One of my childhood memories is tied to my aunt’s habit of making pizza dough. It was her favorite way to relax. This might seem normal, except that she was a baker by profession. How ironic, isn’t it? The very job that could be a source of stress became her way to unwind. The funny thing is, after becoming a software developer, I found myself in the exact same situation. I love to code, but sometimes I need to do it to relax. And that&rsquo;s exactly what happened when I started to develop my home server.</p><p>This article, however, is not strictly about my home server. It’s more about the architecture I chose to implement it, specifically using NATS as a message broker. I will explain why I made this choice and how it has benefited my project.</p><h1 id=the-home-server>The home server<a hidden class=anchor aria-hidden=true href=#the-home-server>#</a></h1><p><strong>TLDR;</strong> A mini-pc equipped with a N100 CPU, 16GB of RAM, and a 512GB SSD, running Debian. All the services are containerized using <code>Docker</code>, and the entire system is managed with a single docker-compose file. That&rsquo;s only the first approach, as I have different plans for the future. Currently, the server runs a few services, including AdGuard, Nextcloud, and Traefik. But the most interesting part is the custom services I developed myself using Go and NATS.</p><h1 id=the-first-service-a-pollens-monitoring-system>The first service: a pollens monitoring system<a hidden class=anchor aria-hidden=true href=#the-first-service-a-pollens-monitoring-system>#</a></h1><p>Did you know that I have allergies? Yes, I do. And I hate them. Every spring, when the pollen count rises, I suffer from sneezing, itchy eyes, and a runny nose. It’s not fun at all. Luckily, it&rsquo;s not so severe, but it’s still annoying. Last year, I found a way to handle it avoiding drugs relying on natural remedies, mostly based on blackcurrant. But to do that effectively, I needed to know the pollen levels in my area with some day&rsquo;s notice. So, I decided to build a pollen monitoring system using data from the <a href=https://pollini.arpa.marche.it/>ARPAM Marche</a> website, which provides pseudo-real-time pollen data for my region.</p><h2 id=pollenium>Pollenium<a hidden class=anchor aria-hidden=true href=#pollenium>#</a></h2><p>The official website’s user interface is clunky and slow, but fortunately, it exposes a public API. I leveraged this API by writing a lightweight Go program that fetches daily pollen data for my area. The program handles its own scheduling internally, ensuring the data is updated automatically each day and stored in a local SQLite database. On top of this, I developed a simple web interface that presents the latest readings and visualizes historical trends with interactive graphs, making it easy to track pollen levels over time.</p><p><img loading=lazy decoding=async src=/blog/images/pollenium01.png alt=zoom: class=zoomCheck></p><p>That&rsquo;s what I called <strong>Pollenium</strong>.</p><h2 id=pollen-alerts>Pollen alerts<a hidden class=anchor aria-hidden=true href=#pollen-alerts>#</a></h2><p>Did I mention that I need to be notified when pollen levels are high? Pollenium is great, but if the pollen count spikes, I want to receive an immediate alert. However, I didn’t want to implement this feature directly in Pollenium. I preferred to keep it simple and focused on its core functionality. So, I decided to create a separate architecture to handle notifications. This is where NATS comes into play.</p><h1 id=why-nats>Why NATS?<a hidden class=anchor aria-hidden=true href=#why-nats>#</a></h1><p>NATS is a high-performance messaging system that is lightweight and easy to deploy. It supports various messaging patterns, including publish/subscribe, request/reply, and queuing. Here are some reasons why I chose NATS for my home server:</p><ul><li><strong>Simplicity</strong>: NATS has a simple API and is easy to set up. This was crucial for me as I wanted to focus on developing my home server without getting bogged down in complex configurations.</li><li><strong>Performance</strong>: NATS is designed for high throughput and low latency.</li><li><strong>Language Support</strong>: NATS has client libraries for many programming languages, including Go, which I used for my home server.</li></ul><h1 id=notification-service>Notification service<a hidden class=anchor aria-hidden=true href=#notification-service>#</a></h1><p>The easiest way to receive a notification is through a Telegram bot. The new service I implemented listens for messages on specific subjects and sends a message to my Telegram bot chat. The service is highly configurable and you can specify different subjects to listen to, as well as the message format and chat IDs to send the notifications to. I called this service <strong>Telenats</strong>. Notifications are NATS JetStream messages, so they are persistent and can be replayed if needed.</p><p><img loading=lazy decoding=async src=/blog/images/pollenium02.png alt=zoom: class=zoomCheck></p><h1 id=user-interfaces>User interfaces<a hidden class=anchor aria-hidden=true href=#user-interfaces>#</a></h1><p>The system was working fine, but I wanted to let NATS handle more than just notifications. Then I had a couple of crazy ideas:</p><ul><li>why not use NATS to listen for keystrokes?</li><li>why not use NATS to dispatch messages for a text-to-speech service?</li></ul><p>I bought an USB numeric keypad and an USB speaker as input/output devices for my home server.</p><h2 id=listen-for-keystrokes>Listen for keystrokes<a hidden class=anchor aria-hidden=true href=#listen-for-keystrokes>#</a></h2><p>I implemented a simple Go program that listens for keystrokes. Every keystroke is captured and published to a related NATS subject. This way, I can send &ldquo;<em>commands</em>&rdquo; to any service listening to that subject. Simple, right? I called this service <strong>Typocast</strong>. I just passed the <code>/dev/input/eventX</code> device as a parameter to the container, and it works like a charm.</p><h2 id=text-to-speech>Text-to-speech<a hidden class=anchor aria-hidden=true href=#text-to-speech>#</a></h2><p>The text-to-speech feature is a little bit more complex. I needed a couple of things:</p><ul><li>a service that converts text to speech</li><li>a service that listens for tts messages and plays the audio after conversion</li></ul><p>For the text-to-speech conversion, I used <a href=https://github.com/OHF-Voice/piper1-gpl>Piper</a> it has voices in different languages, including Italian. It comes with a simple http server that accepts text and returns an audio file. The second service, which I called <strong>Voicecast</strong>, listens for tts messages on a specific NATS subject. When it receives a message, it sends the text to the Piper server, gets the audio file, and plays it using the classic <code>ALSA</code> interface.</p><h1 id=putting-it-all-together>Putting it all together<a hidden class=anchor aria-hidden=true href=#putting-it-all-together>#</a></h1><p>Now that I had all the components, I needed to connect them. Here’s how currently works:</p><ol><li>Pollenium every day fetches the pollen data and stores it in the database.</li><li>If the pollen level exceeds a certain threshold, Pollenium publishes a notification message to a specific NATS subject.</li><li>Telenats listens for notification messages and sends a message to my Telegram bot chat.</li><li>If I want to hear the current pollen levels, I can press a specific key on my keyboard.</li><li>Typocast captures the keystroke and publishes a specific message to the related NATS subject.</li><li>Pollenium listens for that subject/keystroke and when it receives the message, it gets from the database the current pollens with high levels and publishes a formatted message to the tts NATS subject.</li><li>Voicecast listens for tts messages, sends the text to the Piper server, gets the audio file, and plays it.</li></ol><p><img loading=lazy decoding=async src=/blog/images/pollenium03.png alt=zoom: class=zoomCheck></p><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>Using NATS as a message broker for my home server has been a great choice. It has allowed me to build a modular architecture that is easy to maintain and extend. I can easily add new services or modify existing ones without affecting the entire system. Plus, it has been a fun and <strong>relaxing</strong> experience to develop my home server using Go and asynchronous messaging.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://simonevellei.com/blog/tags/nats/>nats</a></li><li><a href=https://simonevellei.com/blog/tags/home-server/>home server</a></li><li><a href=https://simonevellei.com/blog/tags/development/>development</a></li><li><a href=https://simonevellei.com/blog/tags/golang/>golang</a></li></ul><nav class=paginav><a class=prev href=https://simonevellei.com/blog/posts/siamo-una-grande-famiglia/><span class=title>« Prev Page</span><br><span>Siamo una grande famiglia (e questo è un problema)</span></a>
<a class=next href=https://simonevellei.com/blog/posts/referendum-2025/><span class=title>Next Page »</span><br><span>Referendum 2025, la parola ai dati</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on twitter" href="https://twitter.com/intent/tweet/?text=NATS%20as%20broker%20for%20my%20home%20server&amp;url=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f&amp;hashtags=nats%2chomeserver%2cdevelopment%2cgolang"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f&amp;title=NATS%20as%20broker%20for%20my%20home%20server&amp;summary=NATS%20as%20broker%20for%20my%20home%20server&amp;source=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f&title=NATS%20as%20broker%20for%20my%20home%20server"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on whatsapp" href="https://api.whatsapp.com/send?text=NATS%20as%20broker%20for%20my%20home%20server%20-%20https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NATS as broker for my home server on telegram" href="https://telegram.me/share/url?text=NATS%20as%20broker%20for%20my%20home%20server&amp;url=https%3a%2f%2fsimonevellei.com%2fblog%2fposts%2fnats-as-broker-for-my-home-server%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://simonevellei.com/blog>Simone Vellei Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>